<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite User Guide: Utils - HAL Utility Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite User Guide<span id="projectnumber">&#160;R4.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Utils - HAL Utility Functions<div class="ingroups"><a class="el" href="group__hal.html">Hardware Abstraction Layer (HAL)</a> &raquo; <a class="el" href="group__apollo4b__hal.html">apollo4b</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga754ea35e941e8667259d7372d5b01ddc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga754ea35e941e8667259d7372d5b01ddc">am_hal_burst_mode_status</a>()&#160;&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81">AM_HAL_NORMAL_MODE</a></td></tr>
<tr class="memdesc:ga754ea35e941e8667259d7372d5b01ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return current burst mode state.  <a href="group__utils4__4b.html#ga754ea35e941e8667259d7372d5b01ddc">More...</a><br /></td></tr>
<tr class="separator:ga754ea35e941e8667259d7372d5b01ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac82364c07d03af45bf151b90be6cb9fc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#gac82364c07d03af45bf151b90be6cb9fc">am_hal_burst_mode_e</a> { <br />
&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9">AM_HAL_BURST_MODE</a>
, <br />
&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81">AM_HAL_NORMAL_MODE</a>
, <br />
&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9">AM_HAL_BURST_MODE</a>
, <br />
&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81">AM_HAL_NORMAL_MODE</a>
, <br />
&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9">AM_HAL_BURST_MODE</a>
, <br />
&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81">AM_HAL_NORMAL_MODE</a>
<br />
 }</td></tr>
<tr class="memdesc:gac82364c07d03af45bf151b90be6cb9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mode - the result of a change request.  <a href="group__utils4__4b.html#gac82364c07d03af45bf151b90be6cb9fc">More...</a><br /></td></tr>
<tr class="separator:gac82364c07d03af45bf151b90be6cb9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga10aea9a711b2a899453fafa001e3ffe0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga10aea9a711b2a899453fafa001e3ffe0">am_hal_delay_us</a> (uint32_t ui32us)</td></tr>
<tr class="memdesc:ga10aea9a711b2a899453fafa001e3ffe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the bootrom to implement a spin loop.  <a href="group__utils4__4b.html#ga10aea9a711b2a899453fafa001e3ffe0">More...</a><br /></td></tr>
<tr class="separator:ga10aea9a711b2a899453fafa001e3ffe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63d591b4ae36b0e9a8c5273d208ca173"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga63d591b4ae36b0e9a8c5273d208ca173">am_hal_delay_us_status_change</a> (uint32_t ui32usMaxDelay, uint32_t ui32Address, uint32_t ui32Mask, uint32_t ui32Value)</td></tr>
<tr class="memdesc:ga63d591b4ae36b0e9a8c5273d208ca173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays for a desired amount of cycles while also waiting for a status to change a value.  <a href="group__utils4__4b.html#ga63d591b4ae36b0e9a8c5273d208ca173">More...</a><br /></td></tr>
<tr class="separator:ga63d591b4ae36b0e9a8c5273d208ca173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec35822160898fe575b8a2f59234e9b8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#gaec35822160898fe575b8a2f59234e9b8">am_hal_delay_us_status_check</a> (uint32_t ui32usMaxDelay, uint32_t ui32Address, uint32_t ui32Mask, uint32_t ui32Value, bool bIsEqual)</td></tr>
<tr class="memdesc:gaec35822160898fe575b8a2f59234e9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays for a desired amount of cycles while also waiting for a status to equal OR not-equal to a value.  <a href="group__utils4__4b.html#gaec35822160898fe575b8a2f59234e9b8">More...</a><br /></td></tr>
<tr class="separator:gaec35822160898fe575b8a2f59234e9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92e7af32b89e4ae50875bedff648827f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga92e7af32b89e4ae50875bedff648827f">am_hal_load_ui32</a> (uint32_t *pui32Address)</td></tr>
<tr class="memdesc:ga92e7af32b89e4ae50875bedff648827f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a uint32 value from a valid memory or peripheral location.  <a href="group__utils4__4b.html#ga92e7af32b89e4ae50875bedff648827f">More...</a><br /></td></tr>
<tr class="separator:ga92e7af32b89e4ae50875bedff648827f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2204bbb0e179b84968d9f4dd1d8ff1e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga2204bbb0e179b84968d9f4dd1d8ff1e8">am_hal_store_ui32</a> (uint32_t *pui32Address, uint32_t ui32Data)</td></tr>
<tr class="memdesc:ga2204bbb0e179b84968d9f4dd1d8ff1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the bootrom to write to a location in SRAM or the system bus.  <a href="group__utils4__4b.html#ga2204bbb0e179b84968d9f4dd1d8ff1e8">More...</a><br /></td></tr>
<tr class="separator:ga2204bbb0e179b84968d9f4dd1d8ff1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">BootROM_CYCLES</h2></td></tr>
<tr><td class="ititle" colspan="2"><p >Given an integer number of microseconds, convert to a value representing the number of cycles that will provide that amount of delay. This macro is designed to take into account some of the call overhead and latencies.</p>
<p >The BOOTROM_CYCLES_US macro assumes:</p><ul>
<li>Burst or normal mode operation.</li>
<li>If cache is not enabled, use <a class="el" href="group__utils4__4b.html#gaf39de15d537ff2a0451c6c2100a25b3e">BOOTROM_CYCLES_US_NOCACHE()</a> instead. </li>
</ul>
</td></tr>
<tr class="memitem:ga0efb5e8780532ef6a68cc14bcc2a3c36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga0efb5e8780532ef6a68cc14bcc2a3c36">CYCLESPERITER</a>&#160;&#160;&#160;(<a class="el" href="group__clkgen4__4l.html#gae6c450d5e6d389125a013f0622997f9f">AM_HAL_CLKGEN_FREQ_MAX_MHZ</a> / 3)</td></tr>
<tr class="separator:ga0efb5e8780532ef6a68cc14bcc2a3c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ec936b2cf31886473d406e69bf6ef7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#ga8ec936b2cf31886473d406e69bf6ef7f">BOOTROM_CYCLES_US</a>(n)&#160;&#160;&#160;(((n) * <a class="el" href="group__utils4__4l.html#ga0efb5e8780532ef6a68cc14bcc2a3c36">CYCLESPERITER</a>) + 0)</td></tr>
<tr class="separator:ga8ec936b2cf31886473d406e69bf6ef7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf39de15d537ff2a0451c6c2100a25b3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utils4__4b.html#gaf39de15d537ff2a0451c6c2100a25b3e">BOOTROM_CYCLES_US_NOCACHE</a>(n)&#160;&#160;&#160;( (n == 0) ? 0 : (n * <a class="el" href="group__utils4__4l.html#ga0efb5e8780532ef6a68cc14bcc2a3c36">CYCLESPERITER</a>) - 5)</td></tr>
<tr class="separator:gaf39de15d537ff2a0451c6c2100a25b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga754ea35e941e8667259d7372d5b01ddc" name="ga754ea35e941e8667259d7372d5b01ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga754ea35e941e8667259d7372d5b01ddc">&#9670;&nbsp;</a></span>am_hal_burst_mode_status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_burst_mode_status</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__utils4__4l.html#ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81">AM_HAL_NORMAL_MODE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return current burst mode state. </p>
<p >Implemented as a macro, this function returns the current burst mode state. AM_HAL_BURST_MODE AM_HAL_NORMAL_MODE </p>

</div>
</div>
<a id="ga8ec936b2cf31886473d406e69bf6ef7f" name="ga8ec936b2cf31886473d406e69bf6ef7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ec936b2cf31886473d406e69bf6ef7f">&#9670;&nbsp;</a></span>BOOTROM_CYCLES_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOTROM_CYCLES_US</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;(((n) * <a class="el" href="group__utils4__4l.html#ga0efb5e8780532ef6a68cc14bcc2a3c36">CYCLESPERITER</a>) + 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf39de15d537ff2a0451c6c2100a25b3e" name="gaf39de15d537ff2a0451c6c2100a25b3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf39de15d537ff2a0451c6c2100a25b3e">&#9670;&nbsp;</a></span>BOOTROM_CYCLES_US_NOCACHE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOTROM_CYCLES_US_NOCACHE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;( (n == 0) ? 0 : (n * <a class="el" href="group__utils4__4l.html#ga0efb5e8780532ef6a68cc14bcc2a3c36">CYCLESPERITER</a>) - 5)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0efb5e8780532ef6a68cc14bcc2a3c36" name="ga0efb5e8780532ef6a68cc14bcc2a3c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0efb5e8780532ef6a68cc14bcc2a3c36">&#9670;&nbsp;</a></span>CYCLESPERITER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CYCLESPERITER&#160;&#160;&#160;(<a class="el" href="group__clkgen4__4l.html#gae6c450d5e6d389125a013f0622997f9f">AM_HAL_CLKGEN_FREQ_MAX_MHZ</a> / 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gac82364c07d03af45bf151b90be6cb9fc" name="gac82364c07d03af45bf151b90be6cb9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac82364c07d03af45bf151b90be6cb9fc">&#9670;&nbsp;</a></span>am_hal_burst_mode_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__utils4__4b.html#gac82364c07d03af45bf151b90be6cb9fc">am_hal_burst_mode_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mode - the result of a change request. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9" name="ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9"></a>AM_HAL_BURST_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81" name="ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81"></a>AM_HAL_NORMAL_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9" name="ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9"></a>AM_HAL_BURST_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81" name="ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81"></a>AM_HAL_NORMAL_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9" name="ggac82364c07d03af45bf151b90be6cb9fca6b26608b89ddf82cc1aabd33a47d2da9"></a>AM_HAL_BURST_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81" name="ggac82364c07d03af45bf151b90be6cb9fca4ae41676080b05b853fa3aa0eaabdf81"></a>AM_HAL_NORMAL_MODE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga10aea9a711b2a899453fafa001e3ffe0" name="ga10aea9a711b2a899453fafa001e3ffe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10aea9a711b2a899453fafa001e3ffe0">&#9670;&nbsp;</a></span>am_hal_delay_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_delay_us </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the bootrom to implement a spin loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32us</td><td>- Number of microseconds to delay. Must be &gt;=1; the value of 0 will result in an extremely long delay.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to implement a CPU busy waiting spin loop without cache or delay uncertainties.</p>
<p >Notes for Apollo3:</p><ul>
<li>The ROM-based function executes at 3 cycles per iteration plus the normal function call, entry, and exit overhead and latencies.</li>
<li>Cache settings affect call overhead. However, the cache does not affect the time while inside the BOOTROM function.</li>
<li>The function accounts for burst vs normal mode, along with some of the overhead encountered with executing the function itself (such as the check for burst mode).</li>
<li>Use of the FLASH_CYCLES_US() or FLASH_CYCLES_US_NOCACHE() macros for the ui32Iterations parameter will result in approximate microsecond timing.</li>
<li>The parameter ui32Iterations==0 is allowed but is still incurs a delay.</li>
</ul>
<p >Example:</p><ul>
<li>MCU operating at 48MHz -&gt; 20.83 ns / cycle</li>
<li>Therefore each iteration (once inside the bootrom function) will consume 62.5ns (non-burst-mode).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Interrupts are not disabled during execution of this function. Therefore, any interrupt taken will affect the delay timing. </dd></dl>

</div>
</div>
<a id="ga63d591b4ae36b0e9a8c5273d208ca173" name="ga63d591b4ae36b0e9a8c5273d208ca173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63d591b4ae36b0e9a8c5273d208ca173">&#9670;&nbsp;</a></span>am_hal_delay_us_status_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_delay_us_status_change </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32usMaxDelay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays for a desired amount of cycles while also waiting for a status to change a value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32usMaxDelay</td><td>- Maximum number of ~1uS delay loops. </td></tr>
    <tr><td class="paramname">ui32Address</td><td>- Address of the register for the status change. </td></tr>
    <tr><td class="paramname">ui32Mask</td><td>- Mask for the status change. </td></tr>
    <tr><td class="paramname">ui32Value</td><td>- Target value for the status change.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will delay for approximately the given number of microseconds while checking for a status change, exiting when either the given time has expired or the status change is detected.</p>
<dl class="section return"><dt>Returns</dt><dd>AM_HAL_STATUS_SUCCESS = status change detected. AM_HAL_STATUS_TIMEOUT = timeout. </dd></dl>

</div>
</div>
<a id="gaec35822160898fe575b8a2f59234e9b8" name="gaec35822160898fe575b8a2f59234e9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec35822160898fe575b8a2f59234e9b8">&#9670;&nbsp;</a></span>am_hal_delay_us_status_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_delay_us_status_check </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32usMaxDelay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bIsEqual</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays for a desired amount of cycles while also waiting for a status to equal OR not-equal to a value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32usMaxDelay</td><td>- Maximum number of ~1uS delay loops. </td></tr>
    <tr><td class="paramname">ui32Address</td><td>- Address of the register for the status change. </td></tr>
    <tr><td class="paramname">ui32Mask</td><td>- Mask for the status change. </td></tr>
    <tr><td class="paramname">ui32Value</td><td>- Target value for the status change. </td></tr>
    <tr><td class="paramname">bIsEqual</td><td>- Check for equal if true; not-equal if false.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will delay for approximately the given number of microseconds while checking for a status change, exiting when either the given time has expired or the status change is detected.</p>
<dl class="section return"><dt>Returns</dt><dd>0 = timeout. 1 = status change detected. </dd></dl>

</div>
</div>
<a id="ga92e7af32b89e4ae50875bedff648827f" name="ga92e7af32b89e4ae50875bedff648827f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92e7af32b89e4ae50875bedff648827f">&#9670;&nbsp;</a></span>am_hal_load_ui32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_load_ui32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32Address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a uint32 value from a valid memory or peripheral location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Address</td><td>- The location to be read.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to safely read a value from peripheral or memory locations.</p>
<p >This function calls a function that resides BOOTROM or SRAM to do the actual read, thus completely avoiding any conflict with flash or INFO space.</p>
<dl class="section return"><dt>Returns</dt><dd>The value read from the given address. </dd></dl>

</div>
</div>
<a id="ga2204bbb0e179b84968d9f4dd1d8ff1e8" name="ga2204bbb0e179b84968d9f4dd1d8ff1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2204bbb0e179b84968d9f4dd1d8ff1e8">&#9670;&nbsp;</a></span>am_hal_store_ui32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_store_ui32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the bootrom to write to a location in SRAM or the system bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Address</td><td>- Store the data value corresponding to this location. </td></tr>
    <tr><td class="paramname">ui32Data</td><td>- 32-bit Data to be stored.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to store a value to various peripheral or SRAM locations that can not be touched from code running in SRAM or FLASH. There is no known need for this function in Apollo3 at this time. </p>

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Fri Jul 7 2023 14:52:44 for the AmbiqSuite User Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2023&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
