<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite User Guide: Queue Implementation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite User Guide<span id="projectnumber">&#160;R4.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Queue Implementation<div class="ingroups"><a class="el" href="group__hal.html">Hardware Abstraction Layer (HAL)</a> &raquo; <a class="el" href="group__apollo4l__hal.html">apollo4l</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A data structure that will operate as a queue.  <a href="structam__hal__queue__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga3cbebe363ead80d382d99a9746271874"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga3cbebe363ead80d382d99a9746271874">am_hal_queue_empty</a>(psQueue)&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length == 0)</td></tr>
<tr class="memdesc:ga3cbebe363ead80d382d99a9746271874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the queue is empty.  <a href="group__queue4__4l.html#ga3cbebe363ead80d382d99a9746271874">More...</a><br /></td></tr>
<tr class="separator:ga3cbebe363ead80d382d99a9746271874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f6a77dced997dbf3b161e2fbf991737"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga4f6a77dced997dbf3b161e2fbf991737">am_hal_queue_full</a>(psQueue)&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length == (psQueue)-&gt;ui32Capacity)</td></tr>
<tr class="memdesc:ga4f6a77dced997dbf3b161e2fbf991737"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the queue is full.  <a href="group__queue4__4l.html#ga4f6a77dced997dbf3b161e2fbf991737">More...</a><br /></td></tr>
<tr class="separator:ga4f6a77dced997dbf3b161e2fbf991737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac269321e22e55b21ad5dfd3e23b9fe76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#gac269321e22e55b21ad5dfd3e23b9fe76">am_hal_queue_space_left</a>(psQueue)&#160;&#160;&#160;    ((psQueue)-&gt;ui32Capacity - (psQueue)-&gt;ui32Length)</td></tr>
<tr class="memdesc:gac269321e22e55b21ad5dfd3e23b9fe76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of space left in the queue (in bytes).  <a href="group__queue4__4l.html#gac269321e22e55b21ad5dfd3e23b9fe76">More...</a><br /></td></tr>
<tr class="separator:gac269321e22e55b21ad5dfd3e23b9fe76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca8d2330675706601efcbf73a35215f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#gaca8d2330675706601efcbf73a35215f9">am_hal_queue_slots_left</a>(psQueue)</td></tr>
<tr class="memdesc:gaca8d2330675706601efcbf73a35215f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of configured items that will fit in the queue.  <a href="group__queue4__4l.html#gaca8d2330675706601efcbf73a35215f9">More...</a><br /></td></tr>
<tr class="separator:gaca8d2330675706601efcbf73a35215f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aeb8496b44505363ef47863705b4718"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga5aeb8496b44505363ef47863705b4718">am_hal_queue_data_left</a>(psQueue)&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length)</td></tr>
<tr class="memdesc:ga5aeb8496b44505363ef47863705b4718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of data in the queue (in bytes).  <a href="group__queue4__4l.html#ga5aeb8496b44505363ef47863705b4718">More...</a><br /></td></tr>
<tr class="separator:ga5aeb8496b44505363ef47863705b4718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe0392d31dd5438f851d26cd2b9e94b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#gabe0392d31dd5438f851d26cd2b9e94b5">am_hal_queue_items_left</a>(psQueue)&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length / (psQueue)-&gt;ui32ItemSize)</td></tr>
<tr class="memdesc:gabe0392d31dd5438f851d26cd2b9e94b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of configured items left in the queue.  <a href="group__queue4__4l.html#gabe0392d31dd5438f851d26cd2b9e94b5">More...</a><br /></td></tr>
<tr class="separator:gabe0392d31dd5438f851d26cd2b9e94b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93bb3fd824ba17de5c6b806c56e7a3de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga93bb3fd824ba17de5c6b806c56e7a3de">am_hal_queue_peek</a>(psQueue)&#160;&#160;&#160;    ((void *) &amp;((psQueue)-&gt;pui8Data[(psQueue)-&gt;ui32ReadIndex]))</td></tr>
<tr class="memdesc:ga93bb3fd824ba17de5c6b806c56e7a3de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can be used as a pointer to the next item to be read from the queue.  <a href="group__queue4__4l.html#ga93bb3fd824ba17de5c6b806c56e7a3de">More...</a><br /></td></tr>
<tr class="separator:ga93bb3fd824ba17de5c6b806c56e7a3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabeb2bedd8ddb52dfa5500c09abd51b1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#gabeb2bedd8ddb52dfa5500c09abd51b1c">am_hal_queue_next_slot</a>(psQueue)&#160;&#160;&#160;    ((void *) &amp;((psQueue)-&gt;pui8Data[(psQueue)-&gt;ui32WriteIndex]))</td></tr>
<tr class="memdesc:gabeb2bedd8ddb52dfa5500c09abd51b1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can be used as a pointer to the next available slot in the queue memory.  <a href="group__queue4__4l.html#gabeb2bedd8ddb52dfa5500c09abd51b1c">More...</a><br /></td></tr>
<tr class="separator:gabeb2bedd8ddb52dfa5500c09abd51b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fc81cbfd29b92593064f7613303fcbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga8fc81cbfd29b92593064f7613303fcbf">am_hal_queue_from_array</a>(queue,  array)&#160;&#160;&#160;    <a class="el" href="group__queue4__4l.html#ga84c651766a770b3d5ee6ac052e801cdf">am_hal_queue_init</a>((queue), (array), sizeof((array)[0]), sizeof(array))</td></tr>
<tr class="memdesc:ga8fc81cbfd29b92593064f7613303fcbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this to make sure you get the size parameters right.  <a href="group__queue4__4l.html#ga8fc81cbfd29b92593064f7613303fcbf">More...</a><br /></td></tr>
<tr class="separator:ga8fc81cbfd29b92593064f7613303fcbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga84c651766a770b3d5ee6ac052e801cdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga84c651766a770b3d5ee6ac052e801cdf">am_hal_queue_init</a> (<a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a> *psQueue, void *pvData, uint32_t ui32ItemSize, uint32_t ui32ArraySize)</td></tr>
<tr class="memdesc:ga84c651766a770b3d5ee6ac052e801cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a queue.  <a href="group__queue4__4l.html#ga84c651766a770b3d5ee6ac052e801cdf">More...</a><br /></td></tr>
<tr class="separator:ga84c651766a770b3d5ee6ac052e801cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13ab0e01243c521103345046c4486fc3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga13ab0e01243c521103345046c4486fc3">am_hal_queue_item_add</a> (<a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a> *psQueue, const void *pvSource, uint32_t ui32NumItems)</td></tr>
<tr class="memdesc:ga13ab0e01243c521103345046c4486fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an item to the Queue.  <a href="group__queue4__4l.html#ga13ab0e01243c521103345046c4486fc3">More...</a><br /></td></tr>
<tr class="separator:ga13ab0e01243c521103345046c4486fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f2e1b0ae634c773605f1b4653f48640"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queue4__4l.html#ga4f2e1b0ae634c773605f1b4653f48640">am_hal_queue_item_get</a> (<a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a> *psQueue, void *pvDest, uint32_t ui32NumItems)</td></tr>
<tr class="memdesc:ga4f2e1b0ae634c773605f1b4653f48640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an item from the Queue.  <a href="group__queue4__4l.html#ga4f2e1b0ae634c773605f1b4653f48640">More...</a><br /></td></tr>
<tr class="separator:ga4f2e1b0ae634c773605f1b4653f48640"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga5aeb8496b44505363ef47863705b4718" name="ga5aeb8496b44505363ef47863705b4718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5aeb8496b44505363ef47863705b4718">&#9670;&nbsp;</a></span>am_hal_queue_data_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_data_left</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of data in the queue (in bytes). </p>

</div>
</div>
<a id="ga3cbebe363ead80d382d99a9746271874" name="ga3cbebe363ead80d382d99a9746271874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cbebe363ead80d382d99a9746271874">&#9670;&nbsp;</a></span>am_hal_queue_empty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_empty</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the queue is empty. </p>

</div>
</div>
<a id="ga8fc81cbfd29b92593064f7613303fcbf" name="ga8fc81cbfd29b92593064f7613303fcbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fc81cbfd29b92593064f7613303fcbf">&#9670;&nbsp;</a></span>am_hal_queue_from_array</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_from_array</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">queue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">array&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;    <a class="el" href="group__queue4__4l.html#ga84c651766a770b3d5ee6ac052e801cdf">am_hal_queue_init</a>((queue), (array), sizeof((array)[0]), sizeof(array))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this to make sure you get the size parameters right. </p>

</div>
</div>
<a id="ga4f6a77dced997dbf3b161e2fbf991737" name="ga4f6a77dced997dbf3b161e2fbf991737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f6a77dced997dbf3b161e2fbf991737">&#9670;&nbsp;</a></span>am_hal_queue_full</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_full</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length == (psQueue)-&gt;ui32Capacity)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the queue is full. </p>

</div>
</div>
<a id="gabe0392d31dd5438f851d26cd2b9e94b5" name="gabe0392d31dd5438f851d26cd2b9e94b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe0392d31dd5438f851d26cd2b9e94b5">&#9670;&nbsp;</a></span>am_hal_queue_items_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_items_left</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((psQueue)-&gt;ui32Length / (psQueue)-&gt;ui32ItemSize)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of configured items left in the queue. </p>

</div>
</div>
<a id="gabeb2bedd8ddb52dfa5500c09abd51b1c" name="gabeb2bedd8ddb52dfa5500c09abd51b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabeb2bedd8ddb52dfa5500c09abd51b1c">&#9670;&nbsp;</a></span>am_hal_queue_next_slot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_next_slot</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((void *) &amp;((psQueue)-&gt;pui8Data[(psQueue)-&gt;ui32WriteIndex]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can be used as a pointer to the next available slot in the queue memory. </p>

</div>
</div>
<a id="ga93bb3fd824ba17de5c6b806c56e7a3de" name="ga93bb3fd824ba17de5c6b806c56e7a3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93bb3fd824ba17de5c6b806c56e7a3de">&#9670;&nbsp;</a></span>am_hal_queue_peek</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_peek</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((void *) &amp;((psQueue)-&gt;pui8Data[(psQueue)-&gt;ui32ReadIndex]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can be used as a pointer to the next item to be read from the queue. </p>

</div>
</div>
<a id="gaca8d2330675706601efcbf73a35215f9" name="gaca8d2330675706601efcbf73a35215f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca8d2330675706601efcbf73a35215f9">&#9670;&nbsp;</a></span>am_hal_queue_slots_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_slots_left</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    (((psQueue)-&gt;ui32Capacity - (psQueue)-&gt;ui32Length)                        \</div>
<div class="line">     / (psQueue)-&gt;ui32ItemSize)</div>
</div><!-- fragment -->
<p>Returns the number of configured items that will fit in the queue. </p>

</div>
</div>
<a id="gac269321e22e55b21ad5dfd3e23b9fe76" name="gac269321e22e55b21ad5dfd3e23b9fe76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac269321e22e55b21ad5dfd3e23b9fe76">&#9670;&nbsp;</a></span>am_hal_queue_space_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_queue_space_left</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">psQueue</td><td>)</td>
          <td>&#160;&#160;&#160;    ((psQueue)-&gt;ui32Capacity - (psQueue)-&gt;ui32Length)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of space left in the queue (in bytes). </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga84c651766a770b3d5ee6ac052e801cdf" name="ga84c651766a770b3d5ee6ac052e801cdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84c651766a770b3d5ee6ac052e801cdf">&#9670;&nbsp;</a></span>am_hal_queue_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_queue_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a> *&#160;</td>
          <td class="paramname"><em>psQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ItemSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ArraySize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psQueue</td><td>- Pointer to a queue structure. </td></tr>
    <tr><td class="paramname">pvData</td><td>- Pointer to a memory location to be used for data storage. </td></tr>
    <tr><td class="paramname">ui32ItemSize</td><td>- Number of bytes per item in the queue. </td></tr>
    <tr><td class="paramname">ui32ArraySize</td><td>- Number of bytes in the data array.</td></tr>
  </table>
  </dd>
</dl>
<p>This function initializes the members of a queue structure and attaches it to an array of memory that it can use for storage. This function should be called before the queue is used.</p>
<p >In this example, we are creating a queue that can hold 1024 32-bit integers. The integers themselves will be stored in the array named pui32WorkingSpace, while information about the queue itself will be stored in sDataQueue.</p>
<dl class="section note"><dt>Note</dt><dd>The caller should not modify any of the members of <a class="el" href="structam__hal__queue__t.html" title="A data structure that will operate as a queue.">am_hal_queue_t</a> structures. The queue API will handle these members in a thread-safe way.</dd>
<dd>
The queue will remember what size data is in it. Other queue API functions will perform transfers in units of "items" where one "item" is the number of bytes you specify in the <em>ui32ItemSize</em> argument upon initialization.</dd></dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Declare a queue structure and an array of bytes we can use to store</span></div>
<div class="line"><span class="comment">// data.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code hl_struct" href="structam__hal__queue__t.html">am_hal_queue_t</a> sDataQueue;</div>
<div class="line">uint32_t pui32WorkingSpace[1024];</div>
<div class="line"> </div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Attach the queue structure to the working memory.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code hl_function" href="group__queue4__4b.html#ga84c651766a770b3d5ee6ac052e801cdf">am_hal_queue_init</a>(&amp;sDataQueue, pui8WorkingSpace, <span class="keyword">sizeof</span>(uint32_t)</div>
<div class="line">                  <span class="keyword">sizeof</span>(pui32WorkingSpace));</div>
<div class="ttc" id="agroup__queue4__4b_html_ga84c651766a770b3d5ee6ac052e801cdf"><div class="ttname"><a href="group__queue4__4b.html#ga84c651766a770b3d5ee6ac052e801cdf">am_hal_queue_init</a></div><div class="ttdeci">void am_hal_queue_init(am_hal_queue_t *psQueue, void *pvData, uint32_t ui32ItemSize, uint32_t ui32ArraySize)</div><div class="ttdoc">Initializes a queue.</div><div class="ttdef"><b>Definition:</b> am_hal_queue.c:61</div></div>
<div class="ttc" id="astructam__hal__queue__t_html"><div class="ttname"><a href="structam__hal__queue__t.html">am_hal_queue_t</a></div><div class="ttdoc">A data structure that will operate as a queue.</div><div class="ttdef"><b>Definition:</b> am_hal_queue.h:65</div></div>
</div><!-- fragment --><p >The am_hal_queue_from_array macro is a convenient shorthand for this operation. The code below does the same thing as the code above.</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Declare a queue structure and an array of bytes we can use to store</span></div>
<div class="line"><span class="comment">// data.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code hl_struct" href="structam__hal__queue__t.html">am_hal_queue_t</a> sDataQueue;</div>
<div class="line">uint32_t pui32WorkingSpace[1024];</div>
<div class="line"> </div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Attach the queue structure to the working memory.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code hl_define" href="group__queue4__4b.html#ga8fc81cbfd29b92593064f7613303fcbf">am_hal_queue_from_array</a>(&amp;sDataQueue, pui8WorkingSpace);</div>
<div class="ttc" id="agroup__queue4__4b_html_ga8fc81cbfd29b92593064f7613303fcbf"><div class="ttname"><a href="group__queue4__4b.html#ga8fc81cbfd29b92593064f7613303fcbf">am_hal_queue_from_array</a></div><div class="ttdeci">#define am_hal_queue_from_array(queue, array)</div><div class="ttdoc">Use this to make sure you get the size parameters right.</div><div class="ttdef"><b>Definition:</b> am_hal_queue.h:135</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga13ab0e01243c521103345046c4486fc3" name="ga13ab0e01243c521103345046c4486fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13ab0e01243c521103345046c4486fc3">&#9670;&nbsp;</a></span>am_hal_queue_item_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool am_hal_queue_item_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a> *&#160;</td>
          <td class="paramname"><em>psQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pvSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32NumItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an item to the Queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psQueue</td><td>- Pointer to a queue structure. </td></tr>
    <tr><td class="paramname">pvSource</td><td>- Pointer to the data to be added. </td></tr>
    <tr><td class="paramname">ui32NumItems</td><td>- Number of items to be added.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will copy the data pointed to by pvSource into the queue. The <em>ui32NumItems</em> term specifies the number of items to be copied from <em>pvSource</em>. The size of an "item" depends on how the queue was initialized. Please see <a class="el" href="group__queue4__4b.html#ga84c651766a770b3d5ee6ac052e801cdf" title="Initializes a queue.">am_hal_queue_init()</a> for more information on this.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the add operation was successful, or false if the queue didn't have enough space. </dd></dl>

</div>
</div>
<a id="ga4f2e1b0ae634c773605f1b4653f48640" name="ga4f2e1b0ae634c773605f1b4653f48640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f2e1b0ae634c773605f1b4653f48640">&#9670;&nbsp;</a></span>am_hal_queue_item_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool am_hal_queue_item_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structam__hal__queue__t.html">am_hal_queue_t</a> *&#160;</td>
          <td class="paramname"><em>psQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32NumItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an item from the Queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psQueue</td><td>- Pointer to a queue structure. </td></tr>
    <tr><td class="paramname">pvDest</td><td>- Pointer to the data to be added. </td></tr>
    <tr><td class="paramname">ui32NumItems</td><td>- Number of items to be added.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will copy the data from the queue into the memory pointed to by pvDest. The <em>ui32NumItems</em> term specifies the number of items to be copied from the queue. The size of an "item" depends on how the queue was initialized. Please see <a class="el" href="group__queue4__4b.html#ga84c651766a770b3d5ee6ac052e801cdf" title="Initializes a queue.">am_hal_queue_init()</a> for more information on this.</p>
<dl class="section return"><dt>Returns</dt><dd>true if we were able to pull the requested number of items from the queue, or false if the queue didn't have that many items to pull. </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Fri Jul 7 2023 14:52:44 for the AmbiqSuite User Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2023&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
